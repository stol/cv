<?php

$experiences = [
    [
        'start' => "2023-11-11",
        'end' => null,
        'job' => "Coach indépendant pour CTO",
        'company' => "CTO Assistance",
        'link' => 'https://www.cto-assistance.fr',
        'area' => 'Paris',
        'tasks' => [
			"Immersion et entretiens pour comprendre vos défis quotidiens.",
			"Participation active aux réunions techniques pour une vision globale.",
			"Optimisation de l'organisation avec des méthodes agiles.",
			"Conseils technologiques et analyse de projets.",
			"Construction de roadmap solide en collaboration avec le CTO.",
			"Savoir communiquer et identifier les risques prioritaires.",
			"Leadership d'équipe et gestion de projet pragmatique.",
			"Maintenir une codebase performante et gérer les urgences.",
        ],
    ],[
        'start' => "2022-09-01",
        'end' => "2023-09-01",
        'job' => 'Projets personnels',
        'area' => 'Paris',
        'tasks' => [],
    ],[
        'start' => "2022-05-01",
        'end' => "2022-07-01",
        'job' => 'CTO',
        'company' => 'Erold (Ex planet media)',
        'link' => 'https://www.erold.fr/',
        'area' => 'Paris',
        'tasks' => [
            'Reprise en main des équipes (~ 15 devs) et de la roadmap.',
        ],
    ],[
        'start' => "2015-11-01",
        'end' => "2022-03-26",
        'job' => 'CTO (pôle food)',
        'company' => 'Webedia',
        'link' => 'http://www.750g.com',
        'area' => 'Paris',
        'tasks' => [
            'Management et/ou animation d\'équipes françaises et internationales (~ 15 développeurs) intervenant sur divers projets',
            '<a href="https://www.tudogostoso.com.br/" target="_blank">tudogostoso.com.br</a> : site communautaire brésilien, thématique cuisine, 50 millions VU/mois',
            '<a href="https://www.750g.com/" target="_blank">750g.com</a> : site communautaire, thématique cuisine, 15 millions VU/mois',
            '<a href="https://www.academiedugout.fr" target="_blank">academiedugout.fr</a> : site e-commerce thématique cuisine, 1 million VU/mois',
            '<a href="https://www.pourdebon.com/" target="_blank">pourdebon.com</a> : place de marché de produits alimentaires, 0.5 million VU/mois',
            '<a href="https://www.wootbox.fr/" target="_blank">wootbox.fr</a> : site e-commerce de boxes geek',
            '<a href="https://www.prescriptionlab.com/" target="_blank">prescriptionlab.com</a> : site e-commerce de boxes beauté',
            '<a href="https://www.plab-beauty.com/" target="_blank">plab-beauty.com</a> : site e-commerce de produits beauté',

            'Définition et suivi des roadmaps',
            'Définition des choix architecturaux',
            'Organisation des équipes',
            'Recrutement',
            'Gestion conjointe avec l\'équipe d\'exploitation d\'infras physiques & virtuelles/cloud',
            'Anglais quotidien',
            '<b>Problématiques abordées</b> : refontes, migrations, performance back/front, SEO, méthodologies agiles, CI/CD, scalabilité, RGPD, paiements & DSP2, abonnements, UX, Ads, Cloud, API, CRM...',
            '<b>Quelques technos</b> : PHP, Symfony, MySql, Redis, Elasticsearch, HAProxy, Varnish, Nginx, RabbitMQ, GitLab, JIRA, webpack et d\'autres',
        ],
    ],[
        'start' => "2014-11-01",
        'end' => "2015-11-01",
        'job' => 'Lead Développeur Frontend, R&D et conception',
        'company' => 'Webedia (Pôle glamour)',
        'link' => 'https://www.academiedugout.fr',
        'area' => 'Paris',
        'tasks' => [
            'Interventions et/ou refontes HTML 5 responsive des différents sites du pôle féminin&nbsp;: <a href="http://www.purepeople.com/" target="_blank">Purepeople</a>, <a href="http://www.puretrend.com/" target="_blank">Puretrend</a>, <a href="http://www.purebreak.com/" target="_blank">Purebreak</a>, <a href="http://www.ozap.com/" target="_blank">Puremedia</a>, <a href="http://www.terrafemina.com/" target="_blank">Terrafemina</a>, <a href="http://www.chartsinfrance.net/" target="_blank">Purecharts</a>, <a href="http://www.exponaute.com/" target="_blank">Exponaute</a>',
            'Réalisation de prototypes fonctionnels, artistiques ou techniques',
            'Développement d\'un <a href="https://github.com/webedia-udg/wgs" target="_blank">outil</a> à base de BEM, d\'OOCSS et de diverses conventions. Objectif&nbsp;: poser une structure et une méthodologie stricte, commune à tous les sites',
            'Participation à la conception des sites en lien étroit avec la direction artistique et la direction produit',
            'Lead sur la partie frontend conjointement avec l\'équipe technique',
            'Transferts de connaissances par l\'écriture d\'articles, par l\'exemple et par des démos',
            'Nombreuses contraintes&nbsp;: publicité, performance, UX, SEO, responsive + RTL + multilingue, dialogue inter-pôle',
        ],
    ],[
        'start' => "2013-10-01",
        'end' => "2014-11-01",
        'job' => 'Lead Développeur Frontend',
        'company' => 'Webedia (Pôle food)',
        'link' => 'https://www.academiedugout.fr',
        'area' => 'Paris',
        'tasks' => [
            '<a href="https://www.academiedugout.fr" target="_blank">academiedugout.fr</a>&nbsp;: site développé de zéro, sur le thème de la cuisine des grands chefs.',
            'Architecture et développement de toute la partie frontend du site <a href="https://www.academiedugout.fr" target="_blank">academiedugout.fr</a>, en responsive et mobile first',
            'Conception du site collègiale avec la directon artistique et le produit',
            'Développement d\'une webapp de vidéo interractives et responsives, en angular/sf2/mongoDB',
            'Forte utilisation de méthodologies BEM/OCSS et de Sass pour l\'architecture CSS',
            'Utilisation d\'un gitflow avec feature/fix branches et releases hebdomadaires, sur github',
            'Mise en place de tests fonctionnels automatisés via casperJS',
            'Stack technique&nbsp;: Symfony2, angularJS, Sass, jQuery, bower, grunt, nodeJS, angularsJS, mongodb, mysql',
        ],
    ],[
        'start' => "2012-09-01",
        'end' => "2013-09-01",
        'job' => 'Lead Développeur Frontend',
        'company' => 'Webedia (Newsring)',
        'link' => 'http://debats.terrafemina.com',
        'area' => 'Paris',
        'tasks' => [
            'Contexte&nbsp;: site de débat communautaire (maintenant fermé), avec messagerie et UGC',
            'Reprise en main et refonte de l\'intégralité de la partie frontend (templating/JS/CSS). Mise en place du preprocesseur Sass.',
            'Adaptation du site en Responsive Web Design',
            'Mise en place d\'un système de marque blanche, permettant de changer l\'apparence et les fonctionnalités du site en fonction de divers partenariats (tf1, eurosport...)',
            'Mis en place d\'un système de widgets, rendant exportable toute ou partie du site. Ces widgets sont des blocs de fonctionnalités (comme les « embed » youtube, facebook ou autre) affichés sur d\'autres sites. Chaque widget est personnalisable, tant niveau fonctionnalités qu\'apparence',
            'Mise en place de tests fonctionnels automatisés via casperJS',

        ],
    ],[
        'start' => "2011-03-01",
        'end' => "2012-08-01",
        'job' => 'Développeur PHP/JS',
        'company' => 'Skyrock',
        'link' => 'http://www.skyrock.com',
        'area' => 'Paris',
        'tasks' => [
            'Contexte&nbsp;: site à fort traffic (plateforme de blog de 33 millions de comptes à l\'époque)',
            'JS&nbsp;: mise en place de bonnes pratiques (modules, AMD) et d\'un framework maison inspiré par certains concepts de facebook (primer & bootloader)',
            'PHP&nbsp;: mise en place de bonnes pratiques (MVC, routing) et du code équivalent',
            'Transfert des connaissances via des présentations techniques et fonctionnelles',
            'Lead technique en petite équipe sur divers projets, dont la refonte des pages profil des utilisateurs, les albums photos ou encore la refonte de l\'espace d\'administration',
        ],
    ],[
        'start' => "2008-03-01",
        'end' => "2011-02-01",
        'job' => 'Développeur Web',
        'company' => 'Cosmic Communication</a>',
        'link' => 'http://agencecosmic.com',
        'area' => 'Paris',
        'tasks' => [
            'Développement d\'intranets, d\'extranets et de sites corporate. Contact principal des clients pour le suivi technique des projets et leur formation aux outils',
            'Développement d\'une application type e-commerce avec le framework Ruby on Rails',
            'Administration de serveurs LAMP&nbsp;: installation et configuration d\'Apache et ses modules, de MySql ou encore de PHP. Gestion des environnement des dev/recette/prod',
            'Gestion administrative et technique des noms de domaines, configuration des DNS',
        ],
    ],[
        'start' => "2006-10-01",
        'end' => "2007-08-31",
        'job' => 'Chargé de Q/A et Opérations Spéciales',
        'company' => 'Pixtel',
        'link' => 'http://www.pixtel.fr',
        'area' => 'Paris',
        'tasks' => [
            'Responsable Q/A des données intégrées en BDD, coordination des différents intervenants',
            'Développement en C, adaptation et suivi des opérations interactives (WAP, Audiotel, SMS)',

        ],
    ],[
        'start' => "2003-10-01",
        'end' => "2006-09-01",
        'job' => 'Développeur Junior',
        'company' => 'Pixtel',
        'link' => 'http://www.pixtel.fr',
        'area' => 'Paris',
        'tasks' => [
            'Développement en PHP/MySql du site web de l\'équipe de jeux vidéo « goodgame »',
            'Intégration du site persomobiles.com, de sites WAP, et de services audiotel en C',
            'Suivi fonctionnel et technique d\'opérations interactives (WAP, Audiotel, SMS)',
        ],
    ],[
        'start' => "2001-10-01",
        'end' => "2003-09-01",
        'job' => 'Assistant Technique (apprentissage/alternance)',
        'company' => 'Pixtel',
        'link' => 'http://www.pixtel.fr',
        'area' => 'Paris',
        'tasks' => [
            'Développement en PHP/MySql du site web du cybercafé « Akyrion »',
            'Modification et suivi d\'opérations interactives Audiotel/Minitel',
        ],
    ]
];

foreach($experiences as &$experience){
    $experience = json_decode(json_encode($experience), FALSE);
}
unset($experience);

$skills = [
    [
        'title' => 'Langages',
        'detail' => 'Javascript, PHP, Bash Shell, Ruby, C',
    ],[
        'title' => 'Outils',
        'detail' => 'Symfony, MySql, Redis, Elasticsearch, HTML5, CSS3, Sass/Less, jQuery, AngularJS, Rails3, node.js, Sublime Text, Git, Bower, Yarn, SVN, composer, casperJS, Behat, npm, grunt/gulp, Microsoft Office, Suite Adobe, Vi(m)',
    ],[
        'title' => 'Concepts',
        'detail' => 'Design patterns, performance frontend & backend, MVC, versioning, CSS pre/post processing, OOCSS, Responsive Web Design, UX, tests utilisateurs, Single Page Application, dependency management, task/builder, NoSql, caching, scaling, SEO, méthodes agiles, expressions régulières, accessibilité/standards, problématiques navigateurs, performance web',
    ],[
        'title' => 'Langues',
        'detail' => 'Anglais (fluent), Allemand (scolaire)',
    ]
];

foreach($skills as &$skill){
    $skill = json_decode(json_encode($skill), FALSE);
}
unset($skill);

$formations = [
    [
        'title' => '2023',
        'detail' => 'Certification "Construire et conduire un projet entrepreneurial" (BGE)',
    ], [
        'title' => '2003',
        'detail' => 'DEUST multimedia et réseaux, gestion et réalisation (Université Paris II)',
    ], [
        'title' => '2000',
        'detail' => 'Baccalauréat scientifique',
    ]
];

foreach($formations as &$formation){
    $formation = json_decode(json_encode($formation), FALSE);
}
unset($formation);

function dateDiff2Str($startParam, $endParam="today") {
    if (!$endParam){
        $end = "today";
    }

    $start = $startParam instanceof DateTime ? $startParam : new DateTime($startParam);
    $end = $endParam instanceof DateTime ? $endParam : new DateTime($endParam);

    $interval = $end->diff($start);
    $doPlural = function($nb,$str){
        if ($str == "mois"){
            return $str;
        }
        return $nb>=2 ? $str . 's' : $str;
    };

    // https://stackoverflow.com/questions/3216482/round-down-to-nearest-half-integer-in-php
    $round = round($interval->m / 12 * 2) / 2;

    $nbYears = $interval->y + $round;

    $return = '';
    if ($endParam == null){
        $return.= 'depuis ';
    }
    if ($nbYears > 0) {
        $return .= $nbYears . " " . $doPlural($nbYears, 'an');
    } else {
        $return .= $interval->m . " " . $doPlural($interval->m, 'mois');
    }

    return $return;
}
